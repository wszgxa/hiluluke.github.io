<!DOCTYPE html><html><head><meta charset="utf-8"><link rel="dns-prefetch" href="//7fvhwe.com1.z0.glb.clouddn.com/"><link rel="dns-prefetch" href="//static.duoshuo.com/"><link rel="dns-prefetch" href="//hm.baidu.com/"><link rel="dns-prefetch" href="//www.google-analytics.com/"><link rel="dns-prefetch" href="//tajs.qq.com/"><title> BFC note | hilu&#39;s note</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" href="" title="hilu&#39;s note" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><style>.menu-home .menu-item-home{color:#b71c1c}.menu-categories .menu-item-categories{color:#b71c1c}.menu-tags .menu-item-tags{color:#b71c1c}.menu-about .menu-item-about{color:#b71c1c}.menu-rss .menu-item-rss{color:#b71c1c}</style><link rel="stylesheet" href="/css/style.css"></head><body><script type="text/javascript">!function(){"true"==localStorage.getItem("sidebarState")&&(document.body.className="sideShow")}()</script><div id="container"><aside class="sidebar"><div class="head-icon"> <a href="/about"><img src="/avatar.jpeg"></a></div><div class="name">hiluluke</div><div class="desc"><h4>我是一个粉刷匠</h4></div><nav class="side-nav"><div class="nav-item"> <a href="/"><span>30</span> <span>日志</span></a></div><div class="nav-item"> <a href="/categories"><span>7</span> <span>分类</span></a></div><div class="nav-item"> <a href="/tags"><span>22</span> <span>标签</span></a></div></nav><div class="social-wrap"><a href="https://github.com/wszgxa" target="_blank"><div class="item"><i class="i-github"></i></div></a><a href="http://v2ex.com/member/hiluluke" target="_blank"><div class="item"><i class="i-v2ex"></i></div></a><a href="https://www.zhihu.com/people/zhao-guo-xu" target="_blank"><div class="item"><i class="i-zhihu"></i></div></a><a href="https://twitter.com/Hiluluke" target="_blank"><div class="item"><i class="i-twitter"></i></div></a><a href="http://codepen.io/hiluluke" target="_blank"><div class="item"><i class="i-codepen"></i></div></a></div></aside><div class="wrap"><div class="side"><div class="top" id="back-top"></div><div class="arrows" id="nav-btn"></div></div><header class="header menu-2016"><nav> <a class="menu-item-home" href="/">首页</a> <a class="menu-item-categories" href="/categories">分类</a> <a class="menu-item-tags" href="/tags">标签</a> <a class="menu-item-about" href="/about">关于</a> <a class="menu-item-rss" href="/atom.xml">RSS</a></nav></header><section id="main" class="content"><div class="archives-wrap"><div class="archives"><div class="title-wrap"><h1>BFC note</h1><div class="page-info"> <span>By <a href="/about">hiluluke</a> on</span> <time datetime="2016-05-04T16:00:00.000Z" itemprop="datePublished">May 5 2016</time></div></div><div class="content-wrap"><p>前几天和别人交流的时候，让实现这么一个布局：</p><p><img src="http://7fvhwe.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-05-05%20%E4%B8%8B%E5%8D%882.53.39.png" alt="双栏图片布局"></p><p>大概就是上面这个样子。左边是一个图片，右边是文字区域。然后我给的大概实现方式是，左边图片高度宽度固定左浮动，然后右边div框起来左外边距等于图片宽度。</p><p>然后这个大兄弟马上说，图片高度宽度不知。我想了想，想起来了overflow:auto可以实现，就这样说了。大兄弟马上问我为啥，我懵逼了。</p><p>大兄弟一脸高深的告诉我：知道BFC不？(大兄弟人还是挺好的)</p><a id="more"></a><p>不知道可以不，于是就去了解下吧，写这篇笔记，记录下。</p><h2 id="是个啥"><a href="#是个啥" class="headerlink" title="是个啥"></a>是个啥</h2><p>我觉得这句话总结的不错：</p><blockquote><p>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此。</p></blockquote><p>当元素触发了BFC之后就完全与外部元素隔离了，容器里面的子元素就不会影响外部元素的布局，外部也影响不到内部元素的布局。比如一些margin重合，浮动元素等等的例子。</p><h2 id="怎么触发"><a href="#怎么触发" class="headerlink" title="怎么触发"></a>怎么触发</h2><ul><li>根元素</li><li><code>float</code>元素不为none的。</li><li><code>position</code>为<code>absolute</code>或则<code>fixed</code></li><li><code>display</code>为<code>inline-block, table-cell, table-caption, flex, inline-flex</code></li><li><code>overflow</code>不为visible</li></ul><h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><h3 id="自适应两栏布局"><a href="#自适应两栏布局" class="headerlink" title="自适应两栏布局"></a>自适应两栏布局</h3><p>这里首先要提的一个是：</p><blockquote><p>每个元素的margin box的左边与包含块border box的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此。</p></blockquote><p>具体可以看下面的<code>.left</code>元素，即使它是浮动元素，它还是与外部元素的border相重合。</p><p>在一个就是：</p><blockquote><p>BFC的区域不会与float box重叠。</p></blockquote><p>大兄弟问的就是上面这条，早晓得了就不会懵逼了。你可以去codepen注释下面的<code>overflow: hidden</code>看看效果。</p><p></p><p data-height="300" data-theme-id="17379" data-slug-hash="mPapdp" data-default-tab="css,result" data-user="hiluluke" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/hiluluke/pen/mPapdp/" target="_blank" rel="external">mPapdp</a> by hiluluke (<a href="http://codepen.io/hiluluke" target="_blank" rel="external">@hiluluke</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p><script async src="//assets.codepen.io/assets/embed/ei.js"></script><h3 id="清除内部浮动"><a href="#清除内部浮动" class="headerlink" title="清除内部浮动"></a>清除内部浮动</h3><p>可能你早就知道在父元素设置<code>overflow:hidden</code>可以清除浮动，但可能不知道是因为BFC。</p><p>BFC有下面一条规则：</p><blockquote><p>计算BFC的高度时，浮动元素也参与计算</p></blockquote><p>所以当父元素一旦触发了BFC之后其高度就会计算浮动元素的高度。</p><p></p><p data-height="300" data-theme-id="17379" data-slug-hash="EKGogy" data-default-tab="css,result" data-user="hiluluke" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/hiluluke/pen/EKGogy/" target="_blank" rel="external">EKGogy</a> by hiluluke (<a href="http://codepen.io/hiluluke" target="_blank" rel="external">@hiluluke</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p><script async src="//assets.codepen.io/assets/embed/ei.js"></script><p>你可以注释上面outer里面的<code>overflow: hidden</code>看看。</p><h3 id="防止margin重叠"><a href="#防止margin重叠" class="headerlink" title="防止margin重叠"></a>防止margin重叠</h3><p>我们知道在一般的w3c box里面如果有margin靠在一起是会发生margin重叠的。而BFC有这么一条规矩：</p><blockquote><p>Box垂直方向的距离由margin决定。属于同一个BFC的两个相邻Box的margin会发生重叠</p></blockquote><p>也就是说，不是同一个BFC就不会发生重叠了。</p><p></p><p data-height="300" data-theme-id="17379" data-slug-hash="YqdYNY" data-default-tab="css,result" data-user="hiluluke" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/hiluluke/pen/YqdYNY/" target="_blank" rel="external">YqdYNY</a> by hiluluke (<a href="http://codepen.io/hiluluke" target="_blank" rel="external">@hiluluke</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p><script async src="//assets.codepen.io/assets/embed/ei.js"></script><p>可以注释上面的<code>overflow: hidden</code>看看。</p><p>还有很多有趣的BFC应用，大家可以搜索下。</p></div></div></div><div class="ds-thread" data-thread-key="2016/05/05/BFC-note/" data-title="BFC note" data-url="http://hiluluke.cn/2016/05/05/BFC-note/"></div></section><footer class="footer"><div>我是一个粉刷匠</div><div>由 <a href="https://hexo.io/">Hexo</a> 强力驱动 | 主题- <a href="https://github.com/wszgxa/hexo-theme-simple">Simple</a></div></footer></div></div><script src="/js/simple_build.js"></script><script type="text/javascript">var duoshuoQuery={short_name:"hiluluke"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()</script><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-83014983-1","auto"),ga("send","pageview")</script></body></html>