<!DOCTYPE html>
<html>
  <head>
    
    <title>
    
    好玩的蹦床效果 
       | 日常翻译六
    
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta charset="utf-8">
    <link rel="alternate" href="/atom.xml" title="hilu&#39;s note" type="application/atom+xml">
    
    <link rel="icon" href="/favicon.ico">
    
    <link rel="stylesheet" href="/css/style.css">
  </head>
<body>
  <script type="text/javascript">
    // fix sidebar flashing
    (function(){
      if (localStorage.getItem('sidebarState') == 'true') {
        document.body.className="sideShow"
      }
    })()
  </script>
  <div id="container">
    <aside class="sidebar">
  <div class="head-icon">
  
    <a href="/about">
      <img src="/avatar.jpeg">
    </a>
  
  </div>
  <div class="name">hiluluke</div>
  <div class="desc">
    <h4>我是一个粉刷匠</h4>  
  </div>
  <nav class="side-nav">
    <div class="nav-item">
      <a href="/archives">
        <span>
          26
        </span>
        <span>日志</span>
      </a>
    </div>
    <div class="nav-item">
      <a href="/categories">
        <span>
          7
        </span>
        <span>分类</span>
      </a>
    </div>
    <div class="nav-item">
      <a href="/tags">
        <span>
          22
        </span>
        <span>标签</span>
      </a>
    </div>
  </nav>
  
  <div class="social-wrap">
    
    <a href="https://github.com/wszgxa" target="_blank">
      <div class="item">
        <i class="i-github"></i>
      </div>
    </a>
    
    <a href="http://v2ex.com/member/hiluluke" target="_blank">
      <div class="item">
        <i class="i-v2ex"></i>
      </div>
    </a>
    
    <a href="https://www.zhihu.com/people/zhao-guo-xu" target="_blank">
      <div class="item">
        <i class="i-zhihu"></i>
      </div>
    </a>
    
    <a href="https://twitter.com/Hiluluke" target="_blank">
      <div class="item">
        <i class="i-twitter"></i>
      </div>
    </a>
    
    <a href="http://codepen.io/hiluluke" target="_blank">
      <div class="item">
        <i class="i-codepen"></i>
      </div>
    </a>
    
  </div>
  
</aside>
    <div class="wrap">
      <div class="side">
  <div class="top" id="back-top"></div>
  <div class="arrows" id="nav-btn"></div>
</div>
      <header class="header">
  <a href="/">首页</a>
  <a href="/archives">日志</a>
  <a href="/categories">分类</a>
  <a href="/tags">标签</a>
  <a href="/about">关于</a>
  <a href="/atom.xml">RSS</a>
</header>
      <section id="main" class="content">
        
<div class="archives-wrap">
  <div class="archives">
    <div class="title-wrap">
      <h1>好玩的蹦床效果 <small>日常翻译六</small></h1>
      <div class="page-info">
      
        <span>By <a href="/about">hiluluke</a> on</span>
      
        <time datetime="2015-09-09T16:00:00.000Z" itemprop="datePublished">Sep 10 2015</time>
      </div>
    </div>
    <div class="content-wrap">
    <p><a href="http://tympanus.net/codrops/2015/03/04/playful-trampoline-effect/" target="_blank" rel="external">demo和原文在这</a></p>
<p>今天分享一个有趣的小动画。主要的想法是在切换导航（navigating）图片时模拟蹦床的弹性效果。其中的图片拖拽效果我们使用的是<a href="http://tympanus.net/codrops/2013/11/12/elastic-stack-elastic-dragging-interaction/" target="_blank" rel="external">Elastic STack</a>。而svg的动画，我们使用了<a href="http://snapsvg.io/" target="_blank" rel="external">snap.svg</a>。当然我们在整个过程中会使用css 的transitions属性。</p>
<p>demo中的图片使用得是Leonard Nimoy，是为了向他致敬，其上周逝去了。（外国程序员好有情怀）<br><a id="more"></a></p>
<p><img src="http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/03/PlayfulTrampolineEffect01.png" alt=""></p>
<p>最好看看<a href="http://tympanus.net/codrops/2013/11/12/elastic-stack-elastic-dragging-interaction/" target="_blank" rel="external">Elastic Stack</a>的教程并理解其如何工作。而Elastci Stack使用了David Desandro的<a href="http://draggabilly.desandro.com/" target="_blank" rel="external">Draggabilly</a>。</p>
<p>在body里面的第一个元素是SVG形状元素，在我们切换图片时我们将控制它从一个矩形变成挤压后的矩形。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"morph-shape"</span> <span class="attr">class</span>=<span class="string">"morph-shape"</span> <span class="attr">data-morph-next</span>=<span class="string">"M301,301c0,0-83.8-21-151-21C71.8,280-1,301-1,301s21-65.7,21-151C20,79.936-1-1-1-1s73,11,151,11c85 0,151-11,151-11s-21,66.43-21,151C280,229.646,301,301,301,301z"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 300 300"</span> <span class="attr">preserveAspectRatio</span>=<span class="string">"none"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M301,301c0,0-83.8,0-151,0c-78.2,0-151,0-151,0s0-65.7,0-151C-1,79.936-1-1-1-1s73,0,151,0c85,0,151,0,151,0s0,66.43,0,151</span></span></div><div class="line">C301,229.646,301,301,301,301z" /&gt;</div><div class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>初始的矩形定义在svg的path中，然后我们将压缩后的矩形形状存储在data-morph-next中，以便后面动画使用。</p>
<p>照片堆的html结构：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"stack"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"elasticstack"</span> <span class="attr">class</span>=<span class="string">"stack__images"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> <span class="attr">alt</span>=<span class="string">"01"</span>/&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/2.png"</span> <span class="attr">alt</span>=<span class="string">"02"</span>/&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/3.jpg"</span> <span class="attr">alt</span>=<span class="string">"03"</span>/&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/4.jpg"</span> <span class="attr">alt</span>=<span class="string">"04"</span>/&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/5.png"</span> <span class="attr">alt</span>=<span class="string">"05"</span>/&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/6.png"</span> <span class="attr">alt</span>=<span class="string">"06"</span>/&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"stack-next"</span> <span class="attr">class</span>=<span class="string">"stack__next"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon icon-down"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>Next<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"stack-titles"</span> <span class="attr">class</span>=<span class="string">"stack__titles"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"current"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">p</span>&gt;</span>"Once you have eliminated the impossible, whatever remains, however improbable, must be the truth."<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://drbl.in/nTZA"</span>&gt;</span>#RIPLeonardNimoy<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by James Olstein<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">p</span>&gt;</span>"The needs of the many outweigh the needs of the few, or the one."<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://drbl.in/nUqE"</span>&gt;</span>Mr. Spock<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by Mustafa Kural<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">p</span>&gt;</span>"Insufficient facts always invite danger."<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://drbl.in/nUhf"</span>&gt;</span>LLAP<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by Sarah McKay<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">p</span>&gt;</span>"Without followers, evil cannot spread."<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://drbl.in/nTTO"</span>&gt;</span>RIP Leonard Nimoy<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by derric<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">p</span>&gt;</span>"Logic is the beginning of wisdom, not the end."<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://drbl.in/nUcJ"</span>&gt;</span>#Goodnight, Spock<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by Helen Tseng<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">p</span>&gt;</span>"Change is the essential process of all existence."<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">			  <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://drbl.in/nTYY"</span>&gt;</span>RIP Spock<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by Sahirul Iman<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /stack --&gt;</span></div></pre></td></tr></table></figure>
<p>上面构成了图片堆(image stack),一个导航按钮去显示下一张图片，和每个图片的一句描述的话。我们适当调整了Elastic stack，使得能够将标题从image元素中提取出来，从而能在其上应用一些不同的效果。</p>
<p>前面的svg变换图形，我们需要将它延伸到整个屏幕。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.morph-shape</span> &#123;</div><div class="line">	<span class="attribute">position</span>: absolute;</div><div class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">	<span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">	<span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">	<span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.morph-shape</span> <span class="selector-tag">svg</span> &#123;</div><div class="line">	<span class="attribute">position</span>: absolute;</div><div class="line">	<span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">	<span class="attribute">pointer-events</span>: none;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>而加在图片堆上面的样式是我们改边后的Elastic Stack样式。我们在对ul中的images设置<a href="http://tympanus.net/codrops/css_reference/perspective/" target="_blank" rel="external">perspective</a>(建议了解下，3d效果会经常用到)值，这样我们就能在3d空间中定位它。下面最后两个类将会被动态加入，是我们用来创建动画效果的。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.stack</span> <span class="selector-tag">ul</span> &#123;</div><div class="line">	<span class="attribute">position</span>: relative;</div><div class="line">	<span class="attribute">margin</span>: <span class="number">0</span> auto;</div><div class="line">	<span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">	<span class="attribute">list-style</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</div><div class="line">	<span class="attribute">position</span>: absolute;</div><div class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">	<span class="attribute">opacity</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">ul</span><span class="selector-class">.stack__images</span> &#123;</div><div class="line">	<span class="attribute">width</span>: <span class="number">400px</span>;</div><div class="line">	<span class="attribute">height</span>: <span class="number">300px</span>;</div><div class="line">	<span class="attribute">z-index</span>: <span class="number">10</span>;</div><div class="line">	<span class="attribute">perspective</span>: <span class="number">1000px</span>;</div><div class="line">	<span class="attribute">perspective-origin</span>: <span class="number">50%</span> -<span class="number">50%</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@<span class="keyword">media</span> screen and (max-height: <span class="number">530px</span>), screen and (max-width: <span class="number">400px</span>) &#123;</div><div class="line">	<span class="selector-tag">ul</span><span class="selector-class">.stack__images</span> &#123;</div><div class="line">		<span class="attribute">width</span>: <span class="number">260px</span>;</div><div class="line">		<span class="attribute">height</span>: <span class="number">195px</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__images</span> <span class="selector-tag">li</span> &#123;</div><div class="line">	<span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">	<span class="attribute">z-index</span>: <span class="number">1</span>;</div><div class="line">	<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(0, 0, -180px);</div><div class="line">	<span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__images</span> <span class="selector-tag">li</span> <span class="selector-tag">img</span> &#123;</div><div class="line">	<span class="attribute">display</span>: block;</div><div class="line">	<span class="attribute">max-width</span>: <span class="number">100%</span>;</div><div class="line">	<span class="attribute">pointer-events</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__images</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">	<span class="attribute">cursor</span>: <span class="built_in">url</span>(../img/cursor_vulcan.png), auto;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__images</span> <span class="selector-tag">li</span><span class="selector-pseudo">:active</span> &#123;</div><div class="line">	<span class="attribute">cursor</span>: -webkit-grabbing;</div><div class="line">	<span class="attribute">cursor</span>: grabbing;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__images</span> <span class="selector-tag">li</span><span class="selector-class">.animate</span> &#123;</div><div class="line">	<span class="attribute">transition</span>: all <span class="number">0.3s</span> ease-out;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__images</span> <span class="selector-tag">li</span><span class="selector-class">.move-back</span> &#123;</div><div class="line">	<span class="attribute">transition-timing-function</span>: <span class="built_in">cubic-bezier</span>(0.175, 0.885, 0.470, 1.515);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>对于其他得元素，比如导航按钮还有标题的样式：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.stack__next</span> &#123;</div><div class="line">	<span class="attribute">border</span>: none;</div><div class="line">	<span class="attribute">background</span>: none;</div><div class="line">	<span class="attribute">display</span>: block;</div><div class="line">	<span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">	<span class="attribute">overflow</span>: hidden;</div><div class="line">	<span class="attribute">width</span>: <span class="number">36px</span>;</div><div class="line">	<span class="attribute">height</span>: <span class="number">36px</span>;</div><div class="line">	<span class="attribute">margin</span>: <span class="number">10px</span> auto <span class="number">0</span>;</div><div class="line">	<span class="attribute">font-size</span>: <span class="number">30px</span>;</div><div class="line">	<span class="attribute">position</span>: relative;</div><div class="line">	<span class="attribute">cursor</span>: pointer;</div><div class="line">	<span class="attribute">color</span>: <span class="number">#067ba7</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__next</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__next</span><span class="selector-pseudo">:focus</span> &#123;</div><div class="line">	<span class="attribute">outline</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__next</span> <span class="selector-tag">span</span> &#123;</div><div class="line">	<span class="attribute">position</span>: absolute;</div><div class="line">	<span class="attribute">top</span>: <span class="number">200%</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">ul</span><span class="selector-class">.stack__titles</span> &#123;</div><div class="line">	<span class="attribute">height</span>: <span class="number">18vh</span>;</div><div class="line">	<span class="attribute">max-width</span>: <span class="number">560px</span>;</div><div class="line">	<span class="attribute">width</span>: <span class="number">95%</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__titles</span> <span class="selector-tag">blockquote</span> &#123;</div><div class="line">	<span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">	<span class="attribute">text-align</span>: center;</div><div class="line">	<span class="attribute">font-size</span>: <span class="number">1.4em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__titles</span> <span class="selector-tag">blockquote</span> <span class="selector-tag">footer</span> &#123;</div><div class="line">	<span class="attribute">font-size</span>: <span class="number">50%</span>;</div><div class="line">	<span class="attribute">padding-bottom</span>: <span class="number">1em</span>;</div><div class="line">	<span class="attribute">font-family</span>: <span class="string">'Montserrat'</span>, Arial, sans-serif;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__titles</span> <span class="selector-tag">li</span> &#123;</div><div class="line">	<span class="attribute">pointer-events</span>: none;</div><div class="line">	<span class="attribute">transition</span>: opacity <span class="number">0.45s</span> ease;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.stack__titles</span> <span class="selector-tag">li</span><span class="selector-class">.current</span> &#123;</div><div class="line">	<span class="attribute">opacity</span>: <span class="number">1</span>;</div><div class="line">	<span class="attribute">pointer-events</span>: auto;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>标题元素在变换时渐入渐出。</p>
<p>如果你是Yosemite系统这里的光标可能会有一个<a href="http://apple.stackexchange.com/questions/151370/my-cursor-isnt-changing-to-a-pointer-when-hovering-in-safari" target="_blank" rel="external">问题</a>。</p>
<p>最后，我们需要做的就是在样式表中定义一些<a href="http://tympanus.net/codrops/css_reference/transition/" target="_blank" rel="external">transitions</a>。当我们执行这个蹦床效果时，SVG将会改变它的填充大小，同时我们主要的内容区（container）将会使用<a href="http://tympanus.net/codrops/css_reference/transform/" target="_blank" rel="external">3D transform</a>在z轴上做3D变换从而看起来更小。对于container这段变换的样式你可以在base.css中找到。</p>
<p><img src="http://codropspz.tympanus.netdna-cdn.com/codrops/wp-content/uploads/2015/03/PlayfulTrampolineEffect02.jpg" alt=""></p>
<p>当我们点击变换的按钮（navigate）时，我们将navigate-next这个类加给body。在demo2中我们加入了一个微小的变化，我们将内容区（container）在z轴上旋转10度，在x轴上旋转-5度。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.morph-shape</span> <span class="selector-tag">svg</span> &#123;</div><div class="line">	<span class="attribute">fill</span>: <span class="number">#01AEF0</span>;</div><div class="line">	<span class="attribute">transition</span>: fill <span class="number">0.1s</span> ease-out;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.navigate-next</span> <span class="selector-class">.morph-shape</span> <span class="selector-tag">svg</span> &#123;</div><div class="line">	<span class="attribute">fill</span>: <span class="number">#01a0dc</span>;</div><div class="line">	<span class="attribute">transition-duration</span>: <span class="number">0.45s</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">	<span class="attribute">transition</span>: transform <span class="number">0.1s</span> <span class="built_in">cubic-bezier</span>(0.6, 0, 0.5, 1);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.demo-1</span><span class="selector-class">.navigate-next</span> <span class="selector-class">.container</span> &#123;</div><div class="line">	<span class="attribute">transition-duration</span>: <span class="number">0.45s</span>;</div><div class="line">	<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(0, 0, -600px);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.demo-2</span><span class="selector-class">.navigate-next</span> <span class="selector-class">.container</span> &#123;</div><div class="line">	<span class="attribute">transition-duration</span>: <span class="number">0.45s</span>;</div><div class="line">	<span class="attribute">transform</span>: <span class="built_in">rotate3d</span>(-0.5, 0, 1, -6deg) <span class="built_in">translate3d</span>(0, 0, -600px);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.demo-2</span> <span class="selector-class">.morph-shape</span> <span class="selector-tag">svg</span> &#123;</div><div class="line">	<span class="attribute">fill</span>: <span class="number">#A2CD72</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.demo-2</span><span class="selector-class">.navigate-next</span> <span class="selector-class">.morph-shape</span> <span class="selector-tag">svg</span> &#123;</div><div class="line">	<span class="attribute">fill</span>: <span class="number">#95C264</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>对于javascript部分，我们需要包含三个外部库：snap、modernizr、Draggabilly[<a href="http://draggabilly.desandro.com/]。另外还需要一部分[Elastic" target="_blank" rel="external">http://draggabilly.desandro.com/]。另外还需要一部分[Elastic</a> Stack](<a href="http://tympanus.net/codrops/2013/11/12/elastic-stack-elastic-dragging-interaction/)的代码。" target="_blank" rel="external">http://tympanus.net/codrops/2013/11/12/elastic-stack-elastic-dragging-interaction/)的代码。</a><br>然后我们定义好，我们的代码，管理好SVG图形变换和导航键点击之间的逻辑：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> body = <span class="built_in">document</span>.body,</div><div class="line">		titles = [].slice.call( <span class="built_in">document</span>.querySelectorAll( <span class="string">'#stack-titles &gt; li'</span> ) ),</div><div class="line">		totalTitles = titles.length,</div><div class="line">		stack = <span class="keyword">new</span> ElastiStack( <span class="built_in">document</span>.getElementById( <span class="string">'elasticstack'</span> ), &#123;</div><div class="line">			onUpdateStack : <span class="function"><span class="keyword">function</span>(<span class="params"> idx </span>) </span>&#123;</div><div class="line">				classie.remove( titles[idx === <span class="number">0</span> ? totalTitles - <span class="number">1</span> : idx - <span class="number">1</span>], <span class="string">'current'</span> );</div><div class="line">				classie.add( titles[idx], <span class="string">'current'</span> );</div><div class="line">			&#125;</div><div class="line">		&#125; ),</div><div class="line">		shapeEl = <span class="built_in">document</span>.getElementById( <span class="string">'morph-shape'</span> ),</div><div class="line">		s = Snap( shapeEl.querySelector( <span class="string">'svg'</span> ) ),</div><div class="line">		pathEl = s.select( <span class="string">'path'</span> ),</div><div class="line">		paths = &#123; </div><div class="line">			reset : pathEl.attr( <span class="string">'d'</span> ),</div><div class="line">			next  : shapeEl.getAttribute( <span class="string">'data-morph-next'</span> )</div><div class="line">		&#125;;</div><div class="line"></div><div class="line">	<span class="built_in">document</span>.getElementById( <span class="string">'stack-next'</span> ).addEventListener( <span class="string">'mousedown'</span>, nextItem );</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">nextItem</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		classie.add( body, <span class="string">'animating'</span> );</div><div class="line">		classie.add( body, <span class="string">'navigate-next'</span> );</div><div class="line">		pathEl.stop().animate( &#123; <span class="string">'path'</span> : paths.next &#125;, <span class="number">450</span>, mina.easeinout, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">			classie.remove( body, <span class="string">'navigate-next'</span> );</div><div class="line">			stack.nextItem( &#123; transform : <span class="string">'translate3d(0,-60px,400px)'</span> &#125; );</div><div class="line">			pathEl.stop().animate( &#123; <span class="string">'path'</span> : paths.reset &#125;, <span class="number">100</span>, mina.easeout, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				classie.remove( body, <span class="string">'animating'</span> );</div><div class="line">			&#125; );</div><div class="line">		&#125; );</div><div class="line">	&#125;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>ok，搞定了。</p>
<p><strong> 本文翻译自<a href="http://tympanus.net/codrops/2015/03/04/playful-trampoline-effect/" target="_blank" rel="external">Playful Trampoline Effect</a>,如果有问题请在评论中指出,谢谢 </strong></p>

    </div>
  </div>
</div>



  <div class="ds-thread" data-thread-key="2015/09/10/fanyi-trampoline/" data-title="好玩的蹦床效果" data-url="http://hiluluke.cn/2015/09/10/fanyi-trampoline/">
    </div>


      </section>
    <footer class="footer">
  <div>我是一个粉刷匠</div>
  <div>由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题- <a href="https://github.com/wszgxa/hexo-theme-simple">Simple</a></div>
</footer>
    </div>
  </div>
  <script src="/js/simple_build.js"></script>
  
    <script type="text/javascript">
  var duoshuoQuery = {short_name:"hiluluke"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>
  
</body>
</html>