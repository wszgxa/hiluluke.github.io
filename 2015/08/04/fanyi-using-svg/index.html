<!DOCTYPE html><html><head><meta charset="utf-8"><link rel="dns-prefetch" href="//7fvhwe.com1.z0.glb.clouddn.com/"><link rel="dns-prefetch" href="//hilus-note.disqus.com"><link rel="dns-prefetch" href="//www.google-analytics.com/"><title> 使用SVG | 日常翻译二</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" href="" title="hilu&#39;s note" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><style>.menu-home .menu-item-home{color:#b71c1c}.menu-categories .menu-item-categories{color:#b71c1c}.menu-tags .menu-item-tags{color:#b71c1c}.menu-about .menu-item-about{color:#b71c1c}.menu-rss .menu-item-rss{color:#b71c1c}</style><style>blockquote,body,button,dd,dl,dt,fieldset,form,h1,h2,h3,h4,h5,h6,hr,input,legend,li,ol,p,pre,td,textarea,th,ul{margin:0;padding:0}.wrap,body{position:relative}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:100%}address,cite,dfn,em,i,var{font-style:normal}code,kbd,pre,samp{font-family:courier new,courier,monospace}small{font-size:16px}ol,ul{list-style:none}a{text-decoration:none}.archives .content-wrap a:hover,.cate-list a:hover,.content .gist .gist-file .gist-meta a:hover,.footer a:hover{text-decoration:underline}fieldset,img{border:0}input,select{-webkit-tap-highlight-color:transparent}@-moz-keyframes flow{from{transform:translate3d(0,-30px,0);opacity:0}to{transform:translate3d(0,0,0);opacity:1}}@-webkit-keyframes flow{from{transform:translate3d(0,-30px,0);opacity:0}to{transform:translate3d(0,0,0);opacity:1}}@-o-keyframes flow{from{transform:translate3d(0,-30px,0);opacity:0}to{transform:translate3d(0,0,0);opacity:1}}@keyframes flow{from{transform:translate3d(0,-30px,0);opacity:0}to{transform:translate3d(0,0,0);opacity:1}}body,html{height:100%}html{-webkit-overflow-scrolling:touch;-webkit-text-size-adjust:100%}body{word-break:break-all;word-wrap:break-word;font-size:1em;line-height:1.5;font-family:"Lantinghei SC","Open Sans",Arial,"Hiragino Sans GB","Microsoft YaHei",STHeiti,"WenQuanYi Micro Hei",SimSun,Helvetica,sans-serif;background:#fefefe;color:#323232}@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_1469071762_054906.eot);src:url(//at.alicdn.com/t/font_1469071762_054906.eot?#iefix) format('embedded-opentype'),url(//at.alicdn.com/t/font_1469071762_054906.woff) format('woff'),url(//at.alicdn.com/t/font_1469071762_054906.ttf) format('truetype'),url(//at.alicdn.com/t/font_1469071762_054906.svg#iconfont) format('svg')}.i-codepen,.i-douban,.i-facebook,.i-github,.i-left,.i-next,.i-right,.i-twitter,.i-v2ex,.i-weibo,.i-zhihu{font-family:iconfont;font-size:18px;font-style:normal;color:#616171}.i-weibo::after{content:'\e607'}.i-github::after{content:'\e60a'}.i-v2ex::after{content:'\e606'}.i-douban::after{content:'\e605'}.i-zhihu::after{content:'\e608'}.i-twitter::after{content:'\e609'}.i-facebook::after{content:'\e60b'}.i-codepen::after{content:'\e601'}.i-left::after{content:'\e600'}.i-right::after{content:'\e602'}.i-next::after{content:'\e603'}.wrap{transition:.3s all ease-in-out}.side,.sidebar{position:fixed}.header{max-width:840px;margin:0 auto 20px;text-align:center;background-color:#fff;box-shadow:0 1px 3px #e3e3e3;-webkit-box-shadow:0 1px 3px #e3e3e3;-moz-box-shadow:0 1px 3px #e3e3e3;-ms-box-shadow:0 1px 3px #e3e3e3;-o-box-shadow:0 1px 3px #e3e3e3}.header a:hover,.side .arrows,.side .top{background-color:#e3e3e3}.header a{color:#323232;display:inline-block;padding:10px;transition:background-color .2s ease}.header .ac{color:#b71c1c}.side{bottom:40px;transition:.3s all}.side .arrows,.side .top{width:35px;height:35px;border:1px solid transparent;line-height:35px;text-align:center;cursor:pointer;border-radius:3px}.side .arrows:after,.side .top:after{content:'\e602';font-family:iconfont;font-size:16px;color:#323232}.sidebar .desc,.sidebar .name{font-size:15px;text-align:center}.side .arrows:hover:after,.side .top:hover:after{color:#b71c1c}.side .top{margin-bottom:1px;transform:rotate3d(0,0,1,-90deg);-webkit-transform:rotate3d(0,0,1,-90deg);-moz-transform:rotate3d(0,0,1,-90deg);-ms-transform:rotate3d(0,0,1,-90deg);-o-transform:rotate3d(0,0,1,-90deg)}.sideShow .arrows{transform:rotate3d(0,1,0,180deg);-webkit-transform:rotate3d(0,1,0,180deg);-moz-transform:rotate3d(0,1,0,180deg);-ms-transform:rotate3d(0,1,0,180deg);-o-transform:rotate3d(0,1,0,180deg)}.sideShow .side{transform:translate3d(2px,0,0);-webkit-transform:translate3d(2px,0,0);-moz-transform:translate3d(2px,0,0);-ms-transform:translate3d(2px,0,0);-o-transform:translate3d(2px,0,0)}.sideShow .wrap{padding-left:210px}.sideShow .sidebar{transform:none;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;box-shadow:1px 0 5px #ededed;-webkit-box-shadow:1px 0 5px #ededed;-moz-box-shadow:1px 0 5px #ededed;-ms-box-shadow:1px 0 5px #ededed;-o-box-shadow:1px 0 5px #ededed}.sidebar{left:0;top:0;bottom:0;z-index:2;width:210px;transform:translate3d(-210px,0,0);-webkit-transform:translate3d(-210px,0,0);-moz-transform:translate3d(-210px,0,0);-ms-transform:translate3d(-210px,0,0);-o-transform:translate3d(-210px,0,0);transition:transform .3s ease-in-out;background-color:#ededed}.sidebar .head-icon{margin:30px auto 10px;width:72px;height:72px}.sidebar .head-icon img{width:60px;height:60px;border:6px solid rgba(255,255,255,.85);border-radius:50%}.sidebar .desc{margin:0 auto;color:#707070;max-width:180px}.sidebar .name{color:#000;padding:0 0 10px}.sidebar .side-nav{margin-top:35px;text-align:center;font-size:16px}.sidebar .side-nav .nav-item{display:inline-block;padding:0 4px}.sidebar .side-nav .nav-item span{color:#616171;display:block;transition:.2s color}.sidebar .side-nav .nav-item:hover span,.sidebar .social-wrap .item:hover i{color:#000}.sidebar .side-nav .nav-item:nth-child(n+2){border-left:2px solid #e0e0e0}.sidebar .social-wrap{margin:30px auto 0;width:180px;text-align:center}.sidebar .social-wrap .item{padding:5px;display:inline-block;transition:.2s all ease-in-out}.sidebar .social-wrap .item:hover{background-color:#e3e3e3}.content{max-width:760px;min-height:768px;margin:0 auto;padding:20px 40px;background-color:#fff;box-shadow:0 1px 3px #e3e3e3;-webkit-box-shadow:0 1px 3px #e3e3e3;-moz-box-shadow:0 1px 3px #e3e3e3;-ms-box-shadow:0 1px 3px #e3e3e3;-o-box-shadow:0 1px 3px #e3e3e3}.archives{margin-bottom:50px;animation:flow 530ms ease-in-out}.archives .title-wrap{margin:20px 0;padding-bottom:10px;border-bottom:1px solid #e0e0e0}.archives .read-more a:hover,.archives .title-wrap .page-info a:hover{border-bottom:1px solid #1b1a1a}.archives .title-wrap h1{font-size:1.8em;color:#202020}.archives .title-wrap .post-title{position:relative;display:inline-block}.archives .title-wrap .post-title::before{content:'';bottom:0;width:100%;position:absolute;border-top:2px solid #1b1a1a;transform:scale3d(0,1,1);-webkit-transform:scale3d(0,1,1);-moz-transform:scale3d(0,1,1);-ms-transform:scale3d(0,1,1);-o-transform:scale3d(0,1,1);transition:transform .2s ease-in-out}.archives .title-wrap .post-title:hover::before{transform:scale3d(1,1,1);-webkit-transform:scale3d(1,1,1);-moz-transform:scale3d(1,1,1);-ms-transform:scale3d(1,1,1);-o-transform:scale3d(1,1,1)}.archives .title-wrap .page-info{font-size:16px;color:#616171}.archives .title-wrap .page-info a{color:#616171}.archives .read-more{text-align:left}.archives .read-more a{color:#202020;line-height:14px;transition:all .2s ease-in-out}.archives .read-more a:hover span{color:#000}.archives .read-more a span{font-size:14px}.archives .read-more a span::after{font-size:12px}.archives .content-wrap h1,.archives .content-wrap h2,.archives .content-wrap h3,.archives .content-wrap h4{color:#b71c1c;margin:1.5em 0 1em}.archives .content-wrap h1{font-size:1.75em}.archives .content-wrap h2{font-size:1.5em}.archives .content-wrap h3,.archives .content-wrap h4{font-size:1.1em}.archives .content-wrap blockquote{border-left:.3em solid #e0e0e0}.archives .content-wrap blockquote p{padding-left:.8em}.archives .content-wrap ul{padding-left:1.5em}.archives .content-wrap ul li{list-style:circle}.archives .content-wrap .code,.archives .content-wrap figure table{border:none}.archives .content-wrap p{margin:1em 0;text-align:justify}.archives .content-wrap img{display:block;max-width:90%;margin:0 auto;border:1px solid #e0e0e0}.archives .content-wrap a{color:#4078c0}.page-nav .current,.page-nav a{color:#616171}.archives .content-wrap table{max-width:80%;margin:0 auto;border:1px solid #ddd;border-spacing:0;border-collapse:collapse}.archives .content-wrap th{padding:8px;text-align:left;line-height:1.42857143;vertical-align:bottom;border:1px solid #ddd;border-bottom-width:2px;box-sizing:border-box}.cate-head,.ct-title,.footer,.page-nav,.tags-cloud{text-align:center}.archives .content-wrap td{border:1px solid #ddd;padding:8px;line-height:1.42857143;vertical-align:top}.page-nav .current,.page-nav .extend:hover,.page-nav .page-number:hover{border-bottom:1px solid #000}.page-nav{margin:40px 0}.page-nav .extend,.page-nav .page-number,.page-nav .space{position:relative;display:inline-block;width:30px;height:30px;margin:0 10px}.page-nav .page-number{text-align:center;font-size:16px;line-height:30px}.page-nav .extend{line-height:30px}.page-nav .extend i{font-size:12px}.ds-thread{width:96%;margin:0 auto}.content .highlight,.content pre{background:#fafafa;margin:1em auto;padding:10px;overflow:auto;color:#515151;line-height:1.5;white-space:pre;word-spacing:normal;word-break:normal}.content .gist .gist-file .gist-data .line-numbers{color:#666;font-size:.85em}.content code,.content pre{font-family:consolas,menlo,monospace}.content code{background:#fefefe;text-shadow:0 1px #fff;padding:0 .3em}.content pre code{background:0 0;text-shadow:none;padding:0}.content .highlight pre{border:none;margin:0;padding:0}.content .highlight table{margin:0;width:auto}.content .highlight td{border:none;padding:0}.content .highlight figcaption{font-size:.85em;color:#999;line-height:1em;margin-bottom:1em}.content .highlight figcaption a{float:right}.content .highlight .gutter pre{display:none}.content .highlight .line{height:1.5em}.content .highlight .line.marked{background:#515151}.content .gist{margin:0 -20px;border-style:solid;border-color:#e0e0e0;border-width:1px 0;background:#fafafa;padding:15px 20px 15px 0}.content .gist .gist-file{border:none;font-family:font-mono;margin:0}.content .gist .gist-file .gist-data{background:0 0;border:none}.content .gist .gist-file .gist-data .line-numbers{background:0 0;border:none;padding:0 20px 0 0}.content .gist .gist-file .gist-data .line-data{padding:0!important}.content .gist .gist-file .highlight{margin:0;padding:0;border:none}.content .gist .gist-file .gist-meta{background:#fafafa;color:#999;font:.85em font-sans;text-shadow:0 0;padding:0;margin-top:1em;margin-left:20px}.content .gist .gist-file .gist-meta a{color:color-link;font-weight:400}pre .comment,pre .title{color:#999}pre .attribute,pre .css .class,pre .css .id,pre .css .pseudo,pre .html .doctype,pre .regexp,pre .ruby .constant,pre .tag,pre .variable,pre .xml .doctype,pre .xml .pi,pre .xml .tag .title{color:#f2777a}pre .built_in,pre .constant,pre .literal,pre .number,pre .params,pre .preprocessor{color:#f99157}pre .class,pre .css .rules .attribute,pre .header,pre .inheritance,pre .ruby .class .title,pre .ruby .symbol,pre .string,pre .value,pre .xml .cdata{color:#9c9}pre .css .hexcolor{color:#6cc}pre .coffeescript .title,pre .function,pre .javascript .title,pre .perl .sub,pre .python .decorator,pre .python .title,pre .ruby .function .title,pre .ruby .title .keyword{color:#69c}pre .javascript .function,pre .keyword{color:#c9c}.cate-head{margin-top:20px;font-size:1.5em}.cate-list-item{display:inline-block;padding:0 8px}.cate-list{max-width:80%;margin:40px auto 0}.cate-list a{color:#323232;padding:5px}.cate-list span,.ct-title small{color:#616171}.cate-list span:before{content:'['}.cate-list span:after{content:']'}.tags-cloud{width:80%;margin:20px auto 0;text-indent:4px;word-break:normal}.tags-cloud a{display:inline-block;margin:5px}.tags-cloud a:hover{border-bottom:1px solid #e3e3e3}.ct-title{margin:10px auto 20px}.ct-title h2{font-size:1.75em}.footer{max-width:760px;margin:10px auto 0;background-color:#fff;box-shadow:0 0 5px #e3e3e3;-webkit-box-shadow:0 0 5px #e3e3e3;-moz-box-shadow:0 0 5px #e3e3e3;-ms-box-shadow:0 0 5px #e3e3e3;-o-box-shadow:0 0 5px #e3e3e3;padding:10px 40px}.footer a{color:#4078c0}.footer div{padding:5px}@media screen and (max-width:800px){.side{display:none}.content{padding:20px}.footer,.header{max-width:800px}.page-nav .page-number{width:25px;height:25px;line-height:25px}}</style></head><body><script type="text/javascript">!function(){"true"==localStorage.getItem("sidebarState")&&(document.body.className="sideShow")}()</script><div id="container"><aside class="sidebar"><div class="head-icon"> <a href="/about"><img src="/avatar.jpeg"></a></div><div class="name">hiluluke</div><div class="desc"><h4>我是一个粉刷匠</h4></div><nav class="side-nav"><div class="nav-item"> <a href="/"><span>32</span> <span>日志</span></a></div><div class="nav-item"> <a href="/categories"><span>7</span> <span>分类</span></a></div><div class="nav-item"> <a href="/tags"><span>23</span> <span>标签</span></a></div></nav><div class="social-wrap"><a href="https://github.com/wszgxa" target="_blank"><div class="item"><i class="i-github"></i></div></a><a href="http://v2ex.com/member/hiluluke" target="_blank"><div class="item"><i class="i-v2ex"></i></div></a><a href="https://www.zhihu.com/people/zhao-guo-xu" target="_blank"><div class="item"><i class="i-zhihu"></i></div></a><a href="https://twitter.com/Hiluluke" target="_blank"><div class="item"><i class="i-twitter"></i></div></a><a href="http://codepen.io/hiluluke" target="_blank"><div class="item"><i class="i-codepen"></i></div></a></div></aside><div class="wrap"><div class="side"><div class="top" id="back-top"></div><div class="arrows" id="nav-btn"></div></div><header class="header menu-2015"><nav> <a class="menu-item-home" href="/">首页</a> <a class="menu-item-categories" href="/categories">分类</a> <a class="menu-item-tags" href="/tags">标签</a> <a class="menu-item-about" href="/about">关于</a> <a class="menu-item-rss" href="/atom.xml">RSS</a></nav></header><section id="main" class="content"><div class="archives-wrap"><div class="archives"><div class="title-wrap"><h1>使用SVG <small>日常翻译二</small></h1><div class="page-info"> <span>By <a href="/about">hiluluke</a> on</span> <time datetime="2015-08-03T16:00:00.000Z" itemprop="datePublished">Aug 4 2015</time></div></div><div class="content-wrap"><p>SVG 是一个矢量图形格式。它文字的意思是可扩展矢量图形（Scalable Vector Graphics）。基本上说，就是你Adobe Illustrator上面使用的。你能够在web上轻松的使用SVG图标，而这里有很多你需要了解的知识。</p><h2 id="到底为啥要使用SVG？"><a href="#到底为啥要使用SVG？" class="headerlink" title="到底为啥要使用SVG？"></a>到底为啥要使用SVG？</h2><ul><li>在压缩后文件大小比较小</li><li>能被放缩到任何大小，而且不会失掉清晰度（及其小除外）</li><li>在视网膜屏上表现良好</li><li>能够控制一些特效样式，比如交互和阴影<a id="more"></a><h2 id="如何获得SVG图片"><a href="#如何获得SVG图片" class="headerlink" title="如何获得SVG图片"></a>如何获得SVG图片</h2></li></ul><p>在Adobe Illustrator设计一些东西。比如像下图在一个椭圆阴影上的Kiwi鸟。</p><p><img src="http://7fvhwe.com1.z0.glb.clouddn.com/kiwi.png" alt="kiwi bird"></p><p>注意到这个画布边框抵着整个设计的边缘。就像在PNG或则JPG中一样，这在SVG画布上也很重要。（这点没翻译好）</p><p>你能够直接从Adobe Illustrator中保存为SVG文件。</p><p><img src="http://7fvhwe.com1.z0.glb.clouddn.com/save-as-svg.png" alt="save as svg"></p><p>在你保存它的时候，你会收到一个设置SVG选项的对话框。我真的不太了解这些设置选项。这里有个关于<a href="http://www.w3.org/TR/SVGMobile/" target="_blank" rel="external">SVG选项</a>的完整说明。我发现SVG 1.1很好用。</p><p><img src="http://7fvhwe.com1.z0.glb.clouddn.com/svg-options.png" alt="svg options"></p><p>这里比较有趣的时你能够点击ok去保存这个文件，或者使用“SVG Code…”然后他会打开一个文本编辑器，SVG代码就在里面显示着。</p><p><img src="http://7fvhwe.com1.z0.glb.clouddn.com/svg-code.png" alt="svg code"></p><p>两者都很有用。</p><h2 id="在-lt-img-gt-中使用SVG"><a href="#在-lt-img-gt-中使用SVG" class="headerlink" title="在&lt;img&gt;中使用SVG"></a>在<code>&lt;img&gt;</code>中使用SVG</h2><p>如果上面保存为SVG文件，我能够在html中直接使用<code>&lt;img&gt;</code>标签。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"kiwi.svg"</span> <span class="attr">alt</span>=<span class="string">"Kiwi standing on oval"</span>&gt;</span></div></pre></td></tr></table></figure><p>在 Illustrator中，我们的画板时612px*502px。</p><p>那就是这个image会呈现在页面上的大小，就像下图左面的那个大小。你能够通过css选择<code>img</code>标签设置<code>width</code>和<code>height</code>来改变它的大小，就和PNG和JPG图片一样。这里有一个例子如下：</p><p></p><p data-height="368" data-theme-id="17379" data-slug-hash="YXdMar" data-default-tab="result" data-user="hiluluke" class="codepen">See the Pen <a href="http://codepen.io/hiluluke/pen/YXdMar/" target="_blank" rel="external">YXdMar</a> by hiluluke (<a href="http://codepen.io/hiluluke" target="_blank" rel="external">@hiluluke</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p><script async src="//assets.codepen.io/assets/embed/ei.js"></script><h2 id="浏览器支持"><a href="#浏览器支持" class="headerlink" title="浏览器支持"></a>浏览器支持</h2><p>这种方式使用SVG是有明确的<a href="http://caniuse.com/#feat=svg-img" target="_blank" rel="external">浏览器支持的</a>。但是其本质上是和使用img时一样的。仅仅的问题是IE8及以下和安卓2.3及一下不支持。</p><p>Modernizr(一个js库)能够帮助我们，能使得我们以一种更高效的方式使用img。如果我们用一种支持的格式代替<code>background-image</code>，就只需要一个HTTP请求而不需要两个。Modernizr加入一个“no-svg”的class给这个html元素，如果它不支持SVG，我们就使用它：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.main-header</span> &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(logo.svg) no-repeat top left;</div><div class="line">  <span class="attribute">background-size</span>: contain;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.no-svg</span> <span class="selector-class">.main-header</span> &#123;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(logo.png);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>另外一种对于使用SVG作为图片兼容问题比较机智的改进是通过使用多重的背景。SVG和多重背景有类似的浏览器支持，所以如果浏览器支持多重背景，它就支持SVG，然后SVG的声明就会有用（然后覆盖前面的声明）。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(fallback.png);</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(image.svg), none;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="同时使用-lt-img-gt-和background-image…"><a href="#同时使用-lt-img-gt-和background-image…" class="headerlink" title="同时使用&lt;img&gt;和background-image…"></a>同时使用<code>&lt;img&gt;</code>和background-image…</h2><p>如果</p><h2 id="使用”inline”SVG"><a href="#使用”inline”SVG" class="headerlink" title="使用”inline”SVG"></a>使用”inline”SVG</h2><p>还记得如何抓取SVG code从Illustrator吗？（你也可以用一个文本编辑器打开一个SVG文件然后复制里面的代码。）你能够将这个代码放到一个HTML文档中，然后这个SVG图片也能呈现出来，就和你放在一个img标签里的一样。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"></div><div class="line">   <span class="comment">&lt;!-- paste in SVG code, image shows up!  --&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure><p>这样很好因为这个image直接就在文档中，不需要额外的HTTP请求。换句话说，它和使用<a href="https://css-tricks.com/data-uris/" target="_blank" rel="external">Data URI</a>有同样的好处。它也有同样的坏处。一个极度“浮肿”的文档，一大块废话放在文档中，对于查看代码是一件及其烦人的事情,另外它也不像img一样会被浏览器缓存。</p><p>如果你在使用一中后端语言能够回滚获取文件并插入到文档中，你就能解决这个问题了。例如：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> file_get_contents(<span class="string">"kiwi.svg"</span>); <span class="meta">?&gt;</span></div></pre></td></tr></table></figure><p>这里使用了一个php小特性。显然<code>file_get_contents()</code>在着是一个最适合的函数，而使用<code>include()</code>或者<code>include_once()</code>就不是很好。尤其因为SVG有时会以<code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</code>作为初始行，这回导致PHP解析出错并终止。</p><h2 id="首先优化SVG图片"><a href="#首先优化SVG图片" class="headerlink" title="首先优化SVG图片"></a>首先优化SVG图片</h2><p>可能不是特别的令人震惊，但是Adobe Illustrator给我们的图片并不是压缩过的。它还带有一个DOCTYPE和生产注释(generator notes)和一些废话。SVG已经时相当小了，但是我们能让他更小，为啥不做呢？Peter Collingridge 有个在线<a href="http://petercollingridge.appspot.com/svg_optimiser" target="_blank" rel="external">SVG优化</a>工具。你只需要上传旧的SVG图片下载新的就行。在<a href="https://www.youtube.com/watch?v=iVzW3XuOm7E&amp;feature=youtu.be" target="_blank" rel="external">Kyle Foster’s video</a>中，他做的更好，它甚至删除了换行。如果你更厉害，这还有一个<a href="https://github.com/svg/svgo" target="_blank" rel="external">Node JS tool</a>。</p><h2 id="现在你能够开始用css控制它了"><a href="#现在你能够开始用css控制它了" class="headerlink" title="现在你能够开始用css控制它了"></a>现在你能够开始用css控制它了</h2><p>我们发现SVG看起来有点像HTML？那是因为它本质上就是XML(用尖括号包起来的标签，然后里面填充上内容)。在我们的设计中，我们需要两个元素：一个是<code>&lt;ellips&gt;</code>另外一个时<code>&lt;path&gt;</code>。我们能够在他们内添加class，就像其他的HTML元素一样。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">...</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ellipse</span> <span class="attr">class</span>=<span class="string">"ground"</span> <span class="attr">...</span>/&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"kiwi"</span> <span class="attr">...</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></div></pre></td></tr></table></figure><p>现在我们能在这个页面的任何css中控制这个独立的元素并使用特别的SVG CSS。这不是必须嵌入进SVG文件中的，我们能在任何CSS文件中指定它，甚至在全局样式表<code>&lt;link&gt;</code>内容内。注意SVG元素有一些特别的CSS性质。比如，它没有<code>background-color</code>，它是<code>fill</code>。不过你也能使用一些正常的性质比如hover。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.kiwi</span> &#123;</div><div class="line">  <span class="attribute">fill</span>: <span class="number">#94d31b</span>; </div><div class="line">&#125;</div><div class="line"><span class="selector-class">.kiwi</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">  <span class="attribute">fill</span>: <span class="number">#ace63c</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure><p>更酷的是，SVG有梦幻般的滤镜效果，比如模糊。加入一个filter在你的<code>&lt;svg&gt;</code>当中：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">...</span>&gt;</span></div><div class="line">  ...</div><div class="line">  <span class="tag">&lt;<span class="name">filter</span> <span class="attr">id</span>=<span class="string">"pictureFilter"</span> &gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">feGaussianBlur</span> <span class="attr">stdDeviation</span>=<span class="string">"5"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></div></pre></td></tr></table></figure><p>然后你就能够在你的css中应用了：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.ground</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">  <span class="attribute">filter</span>: <span class="built_in">url</span>(#pictureFilter);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>这里有个例子：</p><p></p><p data-height="368" data-theme-id="17379" data-slug-hash="GJzZeV" data-default-tab="result" data-user="hiluluke" class="codepen">See the Pen <a href="http://codepen.io/hiluluke/pen/GJzZeV/" target="_blank" rel="external">GJzZeV</a> by hiluluke (<a href="http://codepen.io/hiluluke" target="_blank" rel="external">@hiluluke</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.</p><p></p><script async src="//assets.codepen.io/assets/embed/ei.js"></script><ul><li><a href="https://developer.mozilla.org/en-US/docs/Applying_SVG_effects_to_HTML_content" target="_blank" rel="external">More on applying filters to SVG</a></li><li><a href="http://www.opera.com/docs/specs/presto25/svg/cssproperties/" target="_blank" rel="external">The best list i could find on SVG-specific CSS properties</a></li></ul><h2 id="浏览器支持-1"><a href="#浏览器支持-1" class="headerlink" title="浏览器支持"></a>浏览器支持</h2><p>行内SVG有它自己的浏览器<a href="http://caniuse.com/#feat=svg-html5" target="_blank" rel="external">兼容表</a>,但是和前面一样，它本质上只在IE8和安卓2.3及以下有问题。</p><p>一种解决办法是<a href="https://css-tricks.com/svg-fallbacks/" target="_blank" rel="external">回退法</a>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">svg</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fallback"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>然后再使用Modernizr:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.fallback</span> &#123; </div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">  <span class="comment">/* Make sure it's the same size as the SVG takes up */</span></div><div class="line">&#125;</div><div class="line"><span class="selector-class">.no-svg</span> <span class="selector-class">.fallback</span> &#123; </div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(logo.png); </div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="在-lt-object-gt-里使用SVG"><a href="#在-lt-object-gt-里使用SVG" class="headerlink" title="在&lt;object&gt;里使用SVG"></a>在<code>&lt;object&gt;</code>里使用SVG</h2><p>如果一个行内SVG还是不对你的胃口（行内SVG会显得很臃肿），你还可以用<code>&lt;object&gt;</code>标签来引入SVG，同时用CSS来给它增加样式。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">type</span>=<span class="string">"image/svg+xml"</span> <span class="attr">data</span>=<span class="string">"kiwi.svg"</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span></div><div class="line">  Kiwi Logo <span class="comment">&lt;!-- fallback image in CSS --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">object</span>&gt;</span></div></pre></td></tr></table></figure><p>对于功能回退，<a href="http://modernizr.com/" target="_blank" rel="external">Modernizr detection</a>在这表现很好：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.no-svg</span> <span class="selector-class">.logo</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">164px</span>;</div><div class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(kiwi.png);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>这种方法很适合写在HTML中（能够被浏览器缓存），另外相对与其他方法有更广泛的浏览器支持。但是如果你想让CSS文件工作，你就不能在文档用外联CSS文件或则用<code>&lt;style&gt;</code>在document中直接引用CSS文件，你需要将<code>&lt;style&gt;</code>放到SVG文件中去。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">...</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">    <span class="comment">/* SVG specific fancy CSS styling here */</span></div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">  ...</div><div class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></div></pre></td></tr></table></figure><h3 id="lt-object-gt-SVG额外的样式表"><a href="#lt-object-gt-SVG额外的样式表" class="headerlink" title="&lt;object&gt;SVG额外的样式表"></a><code>&lt;object&gt;</code>SVG额外的样式表</h3><p>SVG有一个方式去声明一个额外的样式表，它有如下好处：好声明、利于存储。在我测试后发现只有SVG文件嵌入到<code>&lt;object&gt;</code>当中才会有效。你需要将将下面的代码放到SVG文件中<code>&lt;svg&gt;</code>标签上方。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="php"><span class="meta">&lt;?</span>xml-stylesheet type=<span class="string">"text/css"</span> href=<span class="string">"svg.css"</span> <span class="meta">?&gt;</span></span></div></pre></td></tr></table></figure><p>如果你将其放在你的HTML中，这个页面将会呕吐(barf，一种修辞手法吧。。)并不会尝试去渲染SVG。</p><h2 id="Data-URI’s-for-SVG"><a href="#Data-URI’s-for-SVG" class="headerlink" title="Data URI’s for SVG"></a><a href="http://baike.baidu.com/link?url=12h9rR2QRPGWmGRoo3UsfxFM7J1BuJ1wvBmKrKrwZp7ANdBOBk5uS_dXvYutPhwSis0qmEBy2Dm3dpJ-FZyMXK" target="_blank" rel="external">Data URI’s</a> for SVG</h2><p>另外一种方法去使用SVG是去将它们转码成Data URI。Data URI将不会保持实际的文件尺寸，但是它将更加的高效，因为数据直接就在。它并不需要额外的网络请求。<br>Mobilefish.com有一个SVG转Data URI的<a href="http://www.mobilefish.com/services/base64/base64.php" target="_blank" rel="external">在线转换工具</a>。简单的将你的SVG文件内容粘贴到文本框点击转换后结果就呈现在呈现在文本框，你可以复制其。记得去掉将给你的结果中的换行去掉。结果看起来就像胡言乱语：</p><p><img src="http://7fvhwe.com1.z0.glb.clouddn.com/base64-data.png" alt=""></p><p>你能够将之用于任何地方（除了行内<code>&lt;svg&gt;</code>因为它根本没有意义）。只管将这段胡言乱语放到有[data]的地方，就像下面的例子：</p><h3 id="在-lt-img-gt-中"><a href="#在-lt-img-gt-中" class="headerlink" title="在&lt;img&gt;中"></a>在<code>&lt;img&gt;</code>中</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"data:image/svg+xml;base64,[data]"</span>&gt;</span></div></pre></td></tr></table></figure><h3 id="在CSS中"><a href="#在CSS中" class="headerlink" title="在CSS中"></a>在CSS中</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.logo</span> &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"data:image/svg+xml;base64,[data]"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="在-lt-object-gt-中"><a href="#在-lt-object-gt-中" class="headerlink" title="在&lt;object&gt;中"></a>在<code>&lt;object&gt;</code>中</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">type</span>=<span class="string">"image/svg+xml"</span> <span class="attr">data</span>=<span class="string">"data:image/svg+xml;base64,[data]"</span>&gt;</span></div><div class="line">  fallback</div><div class="line"><span class="tag">&lt;/<span class="name">object</span>&gt;</span></div></pre></td></tr></table></figure><h3 id="Data-URI的数据格式"><a href="#Data-URI的数据格式" class="headerlink" title="Data URI的数据格式"></a>Data URI的数据格式</h3><p>所有上面这些例子都把base64作为编码格式，但是data URI不只有<br>这几种编码格式。实际上，对于SVG我们最好不要用base64编码格式。首先因为本地编码的SVG比base64的更加啰嗦，它压缩的会更好。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- base64 --&gt;</span></div><div class="line">data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL...</div><div class="line"></div><div class="line"><span class="comment">&lt;!-- UTF-8, not encoded --&gt;</span></div><div class="line">data:image/svg+xml;charset=UTF-8,<span class="tag">&lt;<span class="name">svg</span> <span class="attr">...</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- UTF-8, optimized encoding for compatibility --&gt;</span></div><div class="line">data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://...'</div><div class="line"></div><div class="line"><span class="comment">&lt;!-- Fully URL encoded ASCII --&gt;</span></div><div class="line">data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A//...</div></pre></td></tr></table></figure><p>base64ing SVG的命令行小工具：</p><blockquote><p>Use openssl base64 &lt; path/to/file.png | tr -d ‘\n’ | pbcopy or cat path/to/file.png | openssl base64 | tr -d ‘\n’ | pbcopy to skip writing to a file and just copy the base64-encoded output to the clipboard without the line breaks.</p></blockquote><h2 id="自动化工具"><a href="#自动化工具" class="headerlink" title="自动化工具"></a>自动化工具</h2><ul><li>grunticon：</li></ul><blockquote><p>从css看来，其非常好用，只需要给每个icon一个引用的class，并不使用css sprites。<br>grunticon 从一个文件夹获取SVG/PNG，然后返回给CSS 3种形式的引用方式：SVG data urls、png data urls、和一个CSS功能回滚文件指向一个PNG图像文件（它被自动产生并放在一个文件夹里面）。</p></blockquote><ul><li>iconizr<blockquote><p>一个php的命令行工具，功能时将SVG图片转换城一些CSS icons（SVG和PNG，单独的icons和CSS sprites），它支持图像优化和生成Sass文件。</p></blockquote></li></ul><h2 id="相关的文章"><a href="#相关的文章" class="headerlink" title="相关的文章"></a>相关的文章</h2><ul><li>David Bushell: <a href="http://dbushell.com/2013/02/04/a-primer-to-front-end-svg-hacking/" target="_blank" rel="external">A Primer to Front-end SVG Hacking</a></li><li>David Bushell: <a href="http://www.smashingmagazine.com/2012/01/resolution-independence-with-svg/" target="_blank" rel="external">Resolution Independence With SVG</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG" target="_blank" rel="external">MDN on SVG</a></li><li>Browser support for <a href="http://caniuse.com/#search=svg" target="_blank" rel="external">a variety of different SVG related things.</a></li><li>Peter Gasston: <a href="http://www.broken-links.com/2012/08/14/better-svg-sprites-with-fragment-identifiers/" target="_blank" rel="external">Better SVG Sprites With Fragment Identifiers</a></li><li><a href="http://svgjs.com/" target="_blank" rel="external">SVG.js</a> - “A lightweight library for manipulating and animating SVG.”</li><li>Emmet has <a href="http://docs.emmet.io/actions/base64/" target="_blank" rel="external">an awesome way</a> to get a data URI from an SVG right from your code editor.</li><li>Compass <a href="http://compass-style.org/reference/compass/helpers/inline-data/" target="_blank" rel="external">has a helper</a> for data URIs too.<br>Adobe: <a href="http://blogs.adobe.com/webplatform/2013/01/08/svg-styling/" target="_blank" rel="external">Styling SVG</a><br>Andrew J. Baker: <a href="http://buildnewgames.com/taming-the-svg-beast/" target="_blank" rel="external">Taming the SVG Beast</a><br>Krister Kari: <a href="http://kristerkari.github.io/adventures-in-webkit-land/blog/2013/03/08/dealing-with-svg-images-in-mobile-browsers/" target="_blank" rel="external">Dealing with SVG images in mobile browsers</a></li></ul><p> <strong>本文翻译自<a href="https://css-tricks.com/using-svg/" target="_blank" rel="external">Using SVG</a>,如果有问题请在评论中指出,谢谢</strong></p></div></div></div><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section><footer class="footer"><div>我是一个粉刷匠</div><div>由 <a href="https://hexo.io/">Hexo</a> 强力驱动 | 主题- <a href="https://github.com/wszgxa/hexo-theme-simple">Simple</a></div></footer></div></div><script src="/js/simple_build.js"></script><script type="text/javascript">function run_disqus_script(s){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/"+s,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}var disqus_shortname="hilus-note",disqus_identifier="2015/08/04/fanyi-using-svg/",disqus_title="使用SVG",disqus_url="http://hiluluke.cn/2015/08/04/fanyi-using-svg/";run_disqus_script("count.js"),run_disqus_script("embed.js")</script><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-83014983-1","auto"),ga("send","pageview")</script></body></html>